{% extends "layout.html" %}
{% block content %}
<h2>{% if current_user.is_admin %}Admin Dashboard{% else %}User Dashboard{% endif %}</h2>
<hr>

<div class="row g-3">
    <div class="col-md-6">
        <div class="card h-100 shadow-sm border-primary">
            <div class="card-body text-center">
                <h5 class="card-title text-muted">Account Status</h5>
                <div class="mt-3">
                    {% if current_user.is_approved %}
                    <span class="badge bg-success fs-5">Active</span>
                    {% else %}
                    <span class="badge bg-warning text-dark fs-5">Pending Approval</span>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card h-100 shadow-sm border-info">
            <div class="card-body text-center">
                <h5 class="card-title text-muted">Current Usage</h5>
                <h2 class="display-4 my-2">
                    {% if current_user.is_unlimited %}
                    <span class="fs-1">Unlimited</span>
                    {% else %}
                    {{ current_user.limit_used }}
                    {% endif %}
                </h2>
                <p class="text-muted">Conversions performed</p>
            </div>
        </div>
    </div>

    {% if not current_user.is_unlimited %}
    <div class="col-12">
        <div class="card shadow-sm">
            <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="card-title mb-0">Quota Remaining</h5>
                    <p class="card-text text-muted mb-0">You have <strong>{{ current_user.limit_total -
                            current_user.limit_used }}</strong> conversions left.</p>
                </div>
                <div class="text-end">
                    <span class="h4">{{ current_user.limit_total }}</span>
                    <div class="small text-muted">Total Limit</div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}